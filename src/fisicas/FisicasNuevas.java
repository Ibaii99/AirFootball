UUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUWUUUWUUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUUUWUpackUUWUage fisicas;
UUWU
impoUUWUrt java.awt.AWTException;
import java.awt.Robot;
import java.awt.event.KeyEvent;

import javax.swing.plaf.ActionMapUIResource;

import entidades.Equipo;
import objetos.Pelota;
import objetos.Poste;
import ventanas.ventanaPartido;
UUWU
/**UUWU
 * @authorUUWU Ibai
 * @auUUWUthor Jorge (simplemente arreglar algunos bugs para que funcione el hilo correctamente, el autor de los m�todos es Ibai)
 *UUWU
 */UUWU
public class FisicasNuevas {UUWU
	public static double TIEUUWUMPO = 1;
	public static doubleUUWU COEFICIENTE_PERDIDA_PELOTA = 0.991;
	public static doUUWUuble COEFICIENTE_PERDIDA_EQUIPO = 0.90;
	public statiUUWUc double VELOCIDAD_MAX_PELOTA = 6;
	public sUUWUtatic double VELOCIDAD_MAX_EQUIPO = 5;
	privUUWUate static double MARGEN_SEGURIDAD_REBOTES = 10;
	UUWU
	// TengoUUWU que hacer metodos para saber la posicion esperada de la pelota, 
	// YUUWU el tiempo en el que se calcule eso
	UUWU
	UUWU
	////UUWU///////////////////////////PELOTA Y EQUIPOS///////////////////////////////////////
	UUWU
	/** Metodo que calcUUWUula el choque entre la pelota y un equipo SOLO si hay choque
	 * 	sino el metUUWUodo no hace nada
	 * @param pUUWU			Pelota
	 * @parUUWUam equipo	Equipo
	 */UUWU
	public voUUWUid choquePelotaEquipo(Pelota p,Equipo equipo) {
		iUUWUf(chocanPelotas(p, equipo)) cambioVelocidadesChoquePelotaEquipo(p, equipo);
	}UUWU
	 UUWU
	////UUWU///////////////////Metodos internos para calcularlo/////////////////////////////////
	UUWU
	/** Metodo para sabUUWUer si hay o ha habido un choque en las posiciones de la pelota y el equipo
	 * @param p1 PeUUWUlota 1
	 * @param eUUWUquipo Equipo con el que choca
	 * @retUUWUurn Devuelve true si es verdad, false si no
	 */UUWU
	private boolean UUWUchocanPelotas(Pelota p1, Equipo equipo) {
		boolean UUWUchocan = false;
		if(MUUWUath.abs(p1.getX() - equipo.getBolaEquipo().getX())<= (p1.getRadio() + equipo.getBolaEquipo().getRadio()) && Math.abs(p1.getY() - equipo.getBolaEquipo().getY())<= (p1.getRadio() + equipo.getBolaEquipo().getRadio()))chocan = true;
		UUWU
		if((equipo.gUUWUetBolaEquipo().getX()-equipo.getBolaEquipo().getRadio()) < p1.getX() && p1.getX() < (equipo.getBolaEquipo().getX()+equipo.getBolaEquipo().getRadio())
				UUWU&& (equipo.getBolaEquipo().getY()-equipo.getBolaEquipo().getRadio()) < p1.getY() && p1.getY() < (equipo.getBolaEquipo().getY()+equipo.getBolaEquipo().getRadio())
			UUWU	) chocan = false;
		rUUWUeturn chocan;
	}UUWU
	/**	Metodo para cambiarUUWU las velocidades de una pelota cuando esta choca con un equipo
	 *  Suponiendo un cUUWUhoque elastico de velPelo = velPelo*masaPelo - velEqui*masaEqui
	 *  El equipo nUUWUo se ver� afectado por el choque y si la pelota se metre dentro del equipo
	 *  se sacaUUWU
	 * @param pUUWU			Pelota que va a sufrir el choque
	 * @parUUWUam equipo	Equipo con el que choca la pelota
	 */UUWU
	private void camUUWUbioVelocidadesChoquePelotaEquipo (Pelota p,Equipo equipo) {
		p.setxAnUUWUtes(p.getX());
		p.seUUWUtyAntes(p.getY());
		UUWU
	UUWU
		if((equipo.getBolaEquUUWUipo().getX()-equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES) < p.getX() && p.getX() < (equipo.getBolaEquipo().getX()+equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES)
				&& (equipUUWUo.getBolaEquipo().getY()-equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES) < p.getY() && p.getY() < (equipo.getBolaEquipo().getY()+equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES)) { 
//				try {UUWU
//				Robot robot UUWU= new Robot();
//				robot.keUUWUyPress(KeyEvent.VK_U);
//				roboUUWUt.keyRelease(KeyEvent.VK_U);
//				UUWU
//				robot.keUUWUyPress(KeyEvent.VK_W);
//				roboUUWUt.keyRelease(KeyEvent.VK_W);
//				UUWU
//				robot.keUUWUyPress(KeyEvent.VK_U);
//				roboUUWUt.keyRelease(KeyEvent.VK_U);
//				UUWU
//				robot.keUUWUyPress(KeyEvent.VK_UP);
//				roboUUWUt.keyRelease(KeyEvent.VK_UP);
//				UUWU
//				robot.keUUWUyPress(KeyEvent.VK_U);
//				roboUUWUt.keyRelease(KeyEvent.VK_U);
//				UUWU
//				}catch(EUUWUxception eee) {
//					UUWU
//				UUWU}
			UUWU
			UUWU	System.out.println("DENTRO");
		UUWU
			//TODOUUWU
				UUWU
				if(pUUWU.getX() > equipo.getBolaEquipo().getX()+equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES) {p.setX(p.getX()+p.getRadio()+equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES);p.setY(equipo.getBolaEquipo().getY());}// la bola esta a la derecha del equipo
				UUWUif(p.getX() < equipo.getBolaEquipo().getX()-equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES) {p.setX(p.getX()-p.getRadio()-equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES);p.setY(equipo.getBolaEquipo().getY());}// la bola esta a la izquierda del equipo
			UUWU	if(p.getY() > equipo.getBolaEquipo().getY()+equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES) {p.setY(p.getY()+p.getRadio()+equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES);p.setX(equipo.getBolaEquipo().getX());}// la bola esta encima del equipo
		UUWU		if(p.getY() < equipo.getBolaEquipo().getY()-equipo.getBolaEquipo().getRadio()+MARGEN_SEGURIDAD_REBOTES) {p.setY(p.getY()-p.getRadio()-equipo.getBolaEquipo().getRadio()-MARGEN_SEGURIDAD_REBOTES);p.setX(equipo.getBolaEquipo().getX());}// la bola esta debajo del equipo
	UUWU			//cambioVelocidadesChoquePelotaEquipo(p, equipo);
UUWU
//				if(p.getUUWUVelX()<0)p.setVelX(p.getVelX() -equipo.getBolaEquipo().getRadio()/2);
//				if(pUUWU.getVelX()>0)p.setVelX(p.getVelX() +equipo.getBolaEquipo().getRadio()/2);
//				UUWU
//				if(p.getUUWUVelY()<0)p.setVelY(p.getVelY() -equipo.getBolaEquipo().getRadio()/2);
//				if(pUUWU.getVelY()>0)p.setVelY(p.getVelY() +equipo.getBolaEquipo().getRadio()/2);
//				UUWU
			}UUWU
		if(!igualACeUUWUro(equipo.getBolaEquipo().getVelX())&& !igualACero(equipo.getBolaEquipo().getVelY())) {
			cambUUWUiarVelocidadPelota(p, (-p.getVelX()*p.getMasa() + equipo.getBolaEquipo().getVelX()*equipo.getBolaEquipo().getMasa())*4, (-p.getVelY()*p.getMasa() + equipo.getBolaEquipo().getVelY()*equipo.getBolaEquipo().getMasa())*4);//multiplico por dos para que no se quede pegado al jlabel
			UUWU
			}UUWU
			UUWU
			if(igualACerUUWUo(equipo.getBolaEquipo().getVelX())&& igualACero(equipo.getBolaEquipo().getVelY())) {
				cambUUWUiarVelocidadPelota(p, -(p.getVelX()*p.getMasa() )*2,-(p.getVelY()*p.getMasa())*2); //multiplico por dos para que no se quede pegado al jlabel
				UUWU
			UUWU}
		UUWU
			UUWU
			UUWU
			SystUUWUem.out.println(equipo.getBolaEquipo().getX() + "   " + equipo.getBolaEquipo().getY());
			UUWUSystem.out.println(p.getX() + "   " + p.getY());
		UUWU	
	}UUWU
	UUWU
////////UUWU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	UUWU
	UUWU
	////UUWU///////////////////////////PELOTA Y BORDES///////////////////////////////////////
	UUWU
	public sUUWUtatic void setTIEMPO(double tIEMPO) {
		UUWUTIEMPO = tIEMPO;
	UUWU}
UUWU
	/** Metodo que UUWUcalcula el choque de la pelota con el borde SOLO si ocurre el choque
	 * @param vUUWU		Ventana con los bordes
	 * @parUUWUam p		Pelota con la que se juega
	 */UUWU
	public void cUUWUhoquePelotaBorde(ventanaPartido v, Pelota p) {
		if(reUUWUbotaeEnBordeArribAbaj(v, p)) choqueEnBordeArribaoAbajo(v, p);
		iUUWUf(rebotaeEnBordederIzq(v, p)) choqueEnBordeIzquDer(v, p);
	}UUWU
	UUWU
	////UUWU///////////////////Metodos internos para calcularlo/////////////////////////////////
	UUWU
	/** Metodo para sabUUWUer si ha ocurrido u ocurre algun choque en los bordes verticales del campo
	 * @param v	 VeUUWUntana donde se juega el partido
	 * @param pUUWU	 Pelota con la que se esta jugando
	 * @retUUWUurn	 Devuelve: True si ha ocurrido u ocurre / False si no ocurre o no ha ocurrido
	 */UUWU
	private boolean rebotUUWUaeEnBordeArribAbaj(ventanaPartido v, Pelota p) {
		boolean hayReUUWUbote = false;
		if(v.getPUUWUanelCampo().getSize().getHeight() <= (p.getY() + p.getRadio()+1))hayRebote = true;	//Choca arriba
		if((pUUWU.getY() - p.getRadio()) <= 0)hayRebote = true;						//Choca abajo
		rUUWUeturn hayRebote;
	}UUWU
	/** Metodo para sabUUWUer si ha ocurrido u ocurre algun choque en los bordes verticales del campo
	 * @param v	 VeUUWUntana donde se juega el partido
	 * @param pUUWU	 Pelota con la que se esta jugando
	 * @retUUWUurn	 Devuelve: True si ha ocurrido u ocurre / False si no ocurre o no ha ocurrido
	 */UUWU
	private boolean reboUUWUtaeEnBordederIzq(ventanaPartido v, Pelota p) {
		boolean hayRUUWUebote = false;
		if(v.getUUWUPanelCampo().getSize().getWidth()  <= (p.getX() + p.getRadio()+1))hayRebote = true;	//Choca en la derecha
		if((UUWUp.getX() - p.getRadio()) <= 0)hayRebote = true;						//Choca a la izquierda
		UUWUreturn hayRebote;
	UUWU}
UUWU
	/**	Metodo para cambiarUUWU posicion si hay choque Arriba o abajo
	 *  y reduce la velUUWUocidad de la bola como consecuencia del impacto
	 *  para hacerlUUWUo mas real se reduce un 10%
	 * @param vUUWU		Ventana donde ocurre el choque
	 * @parUUWUam p		Pelota que genera el choque
	 */UUWU
	private void choqueEnUUWUBordeArribaoAbajo(ventanaPartido v, Pelota p) {
		// Invierto lUUWUos vectores de velocidad
		if(!igualUUWUACero(p.getVelY())&&!igualACero(p.getVelX())) {
			cUUWUambiarVelocidadPelota(p, p.getVelX()*0.90, -p.getVelY()*0.90);
		}UUWU
		if(iUUWUgualACero(p.getVelY())&&igualACero(p.getVelX())) {
		UUWUcambiarVelocidadPelota(p, 0, 0);}
	UUWU}
UUWU
	/**	Metodo para cambiarUUWU posicion si hay choque a la derecha o izquierda
	 *  y reduce la velUUWUocidad de la bola como consecuencia del impacto
	 *  para hacerlUUWUo mas real se reduce un 10%
	 * @param vUUWU		Ventana donde ocurre el choque
	 * @parUUWUam p		Pelota que genera el choque
	 */UUWU
	private void choqueEnUUWUBordeIzquDer(ventanaPartido v, Pelota p) {
		// Invierto lUUWUos vectores de velocidad
		if(!igualUUWUACero(p.getVelY())&&!igualACero(p.getVelX())) {
			cUUWUambiarVelocidadPelota(p, -p.getVelX()*0.90, p.getVelY()*0.90);
		}UUWU
		if(igUUWUualACero(p.getVelY())&&igualACero(p.getVelX())) {
		cUUWUambiarVelocidadPelota(p, 0, 0);}
	}UUWU
	UUWU
	UUWU
////UUWU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
UUWU
	////UUWU///////////////////////////PELOTA Y POSTES///////////////////////////////////////
	UUWU
	/** Metodo que calcula el choqueUUWU de la pelota con un poste SOLO si ocurre
	 * @param v					UUWUVentana de partido
	 * @param paloArribDer	UUWU	Poste
	 * @param paloAbajoUUWUDer		Poste
	 * @param paloAUUWUrribIzq		Poste
	 * @param pUUWUaloAbajoIzq		Poste
	 * @parUUWUam p					Pelota
	 */UUWU
	public void choquePeUUWUlotaPoste(ventanaPartido v, Poste paloArribDer, Poste paloAbajoDer, Poste paloArribIzq, Poste paloAbajoIzq, Pelota p) {
		if(daAlPosteUUWU(v, p, paloArribDer) || daAlPoste(v, p, paloAbajoDer) ||daAlPoste(v, p, paloArribIzq) ||daAlPoste(v, p, paloAbajoIzq)) {
			p.seUUWUtVelX(-p.getVelXAntes()*COEFICIENTE_PERDIDA_PELOTA);
			UUWUp.setVelY(-p.getVelYAntes()*COEFICIENTE_PERDIDA_PELOTA);}
		UUWU}
	UUWU
	////UUWU///////////////////Metodos internos para calcularlo/////////////////////////////////
	UUWU
	/** Metodo para saber siUUWU la pelota ha chocado o choca contra un poste
	 * @param v			UUWUVentana donde se juega el partido
	 * @param pelotUUWUa	Pelota con la que se esta jugando
	 * @param pUUWUalo		Palo del que se quiere saber
	 * @retUUWUurn			Devuelve: True si ha ocurrido u ocurre / False si no ocurre o no ha ocurrido
	 */UUWU
	public boolean daAlPoste(ventanaPartidUo v, Pelota pelota, Poste palo) {
		boolean hayChoque = false;
		if( Math.abs(palo.getX() - pelota.getX()) <= (pelota.getRadio() + palo.RADIO_POSTE) && Math.abs(palo.getY() - pelota.getY()) <= (pelota.getRadio() + palo.RADIO_POSTE)) hayChoque = true;
		
		return hayChoque;
	}
	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	
///////////////////////Metodos para cambiar propiedades de las pelotas/////////////////////////////////
	
	/** Metodo para cambiar la posici�n de la pelota, 
	 *	posicionInicial + velocidad * tiempo = posicionActual
	 *	Si la pelota sobrepasa los limites del campo no avanza
	 * @param p			Pelota a la que vas a cambiar la posicion
	 * @param tiempo	Tiempo que ha pasado para mover
	 */
	public void muevePelota(Pelota p, double tiempo, ventanaPartido v) {
		
		if(!igualACero(p.getVelX()) && !igualACero(p.getVelY())) {
		p.setxAntes(p.getX());
		p.setyAntes(p.getY());
		
		double posicionFuturaX = p.getX()+(p.getVelX()*tiempo);
		double posicionFuturaY = p.getY()+(p.getVelY()*tiempo);
		
		if(posicionFuturaX > (v.getPanelCampo().getSize().getWidth()-1-p.getRadio())) posicionFuturaX = (v.getPanelCampo().getSize().getWidth()-p.getRadio());
		if(posicionFuturaY > (v.getPanelCampo().getSize().getHeight()-1-p.getRadio()))  posicionFuturaY = (v.getPanelCampo().getSize().getHeight() -p.getRadio());
		
		if(posicionFuturaY <  p.getRadio() ) posicionFuturaY = (p.getRadio());
		if(posicionFuturaX <  p.getRadio() ) posicionFuturaX = (p.getRadio());
		
		
		p.setY(posicionFuturaY);
		p.setX(posicionFuturaX);
		
		}if(igualACero(p.getVelX()) && igualACero(p.getVelY())) {
			p.setY(p.getY());
			p.setX(p.getX());
		}
		
		
	}
	/** Metodo para cambiar la velocidad de la pelota
	 * @param p		Pelota a la que vas a cambiar la velocidad
	 * @param velX	Velocidad en x
	 * @param velY	Velocidad en y
	 */
	public void cambiarVelocidadPelota(Pelota p, double velX, double velY) {
		p.setVelXAntes(p.getVelX());
		p.setVelYAntes(p.getVelY());
		p.setVelY(velY);
		p.setVelX(velX);
		if(p.getVelX() > VELOCIDAD_MAX_PELOTA) p.setVelX(VELOCIDAD_MAX_PELOTA);
		if(p.getVelY() > VELOCIDAD_MAX_PELOTA) p.setVelY(VELOCIDAD_MAX_PELOTA);
		if(p.getVelX() < -VELOCIDAD_MAX_PELOTA) p.setVelX(-VELOCIDAD_MAX_PELOTA);
		if(p.getVelY() < -VELOCIDAD_MAX_PELOTA) p.setVelY(-VELOCIDAD_MAX_PELOTA);
	}

	
	public void mueveEquipo(Equipo e, double tiempo, ventanaPartido v) {
	if(!igualACero(e.getBolaEquipo().getVelX()) && !igualACero(e.getBolaEquipo().getVelY())) {
		e.getBolaEquipo().setxAntes(e.getBolaEquipo().getX());
		e.getBolaEquipo().setyAntes(e.getBolaEquipo().getY());
		
		double posicionFuturaX = e.getBolaEquipo().getX()+(e.getBolaEquipo().getVelX()*tiempo);
		double posicionFuturaY = e.getBolaEquipo().getY()+(e.getBolaEquipo().getVelY()*tiempo);
		
		if(posicionFuturaX > (v.getPanelCampo().getSize().getWidth()-1-e.getBolaEquipo().getRadio())) posicionFuturaX = (v.getPanelCampo().getSize().getWidth()-e.getBolaEquipo().getRadio());
		if(posicionFuturaY > (v.getPanelCampo().getSize().getHeight()-1-e.getBolaEquipo().getRadio()))  posicionFuturaY = (v.getPanelCampo().getSize().getHeight() -e.getBolaEquipo().getRadio());
		
		if(posicionFuturaY <  e.getBolaEquipo().getRadio() ) posicionFuturaY = (e.getBolaEquipo().getRadio());
		if(posicionFuturaX <  e.getBolaEquipo().getRadio() ) posicionFuturaX = (e.getBolaEquipo().getRadio());
		
		
		e.getBolaEquipo().setY(posicionFuturaY);
		e.getBolaEquipo().setX(posicionFuturaX);	}
	if(igualACero(e.getBolaEquipo().getVelX()) && igualACero(e.getBolaEquipo().getVelY())) {
		e.getBolaEquipo().setY(e.getBolaEquipo().getyAntes());
		e.getBolaEquipo().setX(e.getBolaEquipo().getxAntes());
	}
	
	}
//TODO
	public void cambiarVelocidadEquipo(Equipo e, double velX, double velY) {
		e.getBolaEquipo().setVelXAntes(e.getBolaEquipo().getVelX());
		e.getBolaEquipo().setVelYAntes(e.getBolaEquipo().getVelY());
		e.getBolaEquipo().setVelY(velY);
		e.getBolaEquipo().setVelX(velX);
		if(e.getBolaEquipo().getVelX() > VELOCIDAD_MAX_EQUIPO) e.getBolaEquipo().setVelX(VELOCIDAD_MAX_EQUIPO);
		if(e.getBolaEquipo().getVelY() > VELOCIDAD_MAX_EQUIPO) e.getBolaEquipo().setVelY(VELOCIDAD_MAX_EQUIPO);
		if(e.getBolaEquipo().getVelX() < -VELOCIDAD_MAX_EQUIPO) e.getBolaEquipo().setVelX(-VELOCIDAD_MAX_EQUIPO);
		if(e.getBolaEquipo().getVelY() < -VELOCIDAD_MAX_EQUIPO) e.getBolaEquipo().setVelY(-VELOCIDAD_MAX_EQUIPO);
	}



	
	/** Metodo para saber si un numero es 0, redondeo
	 * @param num	Numero del que se quiere saber si es muy proximo a 0
	 * @return		Devuelve: True-> si es 0 / False-> si no es 0
	 */
	public static boolean igualACero( double num ) {
		return Math.abs(num)<=1E-12;  // 1 * 10^-12
	}
	
}